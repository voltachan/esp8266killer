var settingsJson={};function load(){getFile("settings.json",function(res){settingsJson=JSON.parse(res);draw()})}function lang(key){var s=key;key=key.toLowerCase();if(key=="version"){s="版本"}if(key=="ssid"){s="SSID"}if(key=="password"){s="密码"}if(key=="channel"){s="频段"}if(key=="hidden"){s="隐藏SSID"}if(key=="captiveportal"){s="自动弹出管理页面"}if(key=="lang"){s="语言"}if(key=="autosave"){s="自动保存"}if(key=="autosavetime"){s="自动保存间隔"}if(key=="display"){s="显示屏"}if(key=="displayTimeout"){s="息屏时长"}if(key=="serial"){s="串行调试"}if(key=="serialecho"){s="串行回显"}if(key=="web"){s="网页管理"}if(key=="led"){s="LED指示灯"}if(key=="maxch"){s="最大频段"}if(key=="macst"){s="station 的 MAC 地址"}if(key=="macap"){s="AP 的 MAC 地址"}if(key=="mindeauths"){s="最小 Deauth 包数"}if(key=="attacktimeout"){s="攻击超时"}if(key=="deauthspertarget"){s="每个目标的 Deauth 包数"}if(key=="deauthreason"){s="Deauth 状态码"}if(key=="beaconchannel"){s="向所有频段发送 Beacon 包"}if((key=="randomtx")){s="随机功率"}if(key=="probesperssid"){s="每个目标的 Probe 包数"}if(key=="beaconinterval"){s="快速发送 Beacon 包"}if(key=="chTime"){s="单一频段扫描时长"}return s}function draw(){var html="";for(var key in settingsJson){key=esc(key);if(settingsJson.hasOwnProperty(key)){if(typeof settingsJson[key]!="boolean"){html+="<div class='settings'>"+"<label class='settingName "+(typeof settingsJson[key]=="boolean"?"labelFix":"")+"' for='"+key+"'>"+lang(key)+":</label>"}else{html+="<div class='settings'></div>"}}if(typeof settingsJson[key]=="boolean"){html+="<li><input type='checkbox' name='checkbox' class='labelauty' id='"+key+"' "+" onchange='save(\""+key+'",!settingsJson["'+key+"\"])'"+"style='display: none'"+(settingsJson[key]?" checked":"")+"><label for='"+key+"'><span class='labelauty-unchecked-image'></span><span class='labelauty-unchecked'>"+lang(key)+"</span><span class='labelauty-checked-image'></span><span class='labelauty-checked'>"+lang(key)+"</span></label></li>"+"</label></li>"}else{if(typeof settingsJson[key]=="number"){html+="<input type='number' name='"+key+"' value="+settingsJson[key]+" onchange='save(\""+key+"\",parseInt(this.value))'>"}else{if(typeof settingsJson[key]=="string"){html+="<input type='text' name='"+key+"' value="+settingsJson[key]+" "+(key=="version"?"readonly":"")+" onchange='save(\""+key+"\",this.value)'>"}}}}getE("settingsList").innerHTML=html}function save(key,value){if(key){settingsJson[key]=value;getFile("run?cmd=set "+key+' "'+value+'"')}else{getFile("run?cmd=save settings",function(res){load()})}};